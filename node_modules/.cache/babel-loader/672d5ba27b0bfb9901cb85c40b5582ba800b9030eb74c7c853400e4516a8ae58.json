{"ast":null,"code":"import{memo,useEffect,useRef,useState}from\"react\";import DeleteWidget from\"../DeleteWidget\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const NoteWidget=/*#__PURE__*/memo(function(_ref){let{id}=_ref;const titleRef=useRef(null);const contentRef=useRef(null);const[title,setTitle]=useState(\"\");const[content,setContent]=useState(\"\");useEffect(()=>{const widgets=JSON.parse(localStorage.getItem(\"widgets\"));widgets.map(w=>{if(w.i===id){setTitle(w===null||w===void 0?void 0:w.title);setContent(w.content);}return w;});// eslint-disable-next-line\n},[]);function saveNote(type,newContent){const widgets=JSON.parse(localStorage.getItem(\"widgets\"));const widgetsEdited=widgets.map(w=>{if(w.i===id){w[type]=newContent;}return w;});localStorage.setItem(\"widgets\",JSON.stringify(widgetsEdited));}function handleNoteTitleChange(e){setTitle(e.target.value);saveNote(\"title\",e.target.value);}function handleNoteContentChange(e){setContent(e.target.value);saveNote(\"content\",e.target.value);}return/*#__PURE__*/_jsxs(\"div\",{className:\"widget NoteWidget\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"widgetTitle\",children:[\"Note - \",title||\"\"]}),/*#__PURE__*/_jsx(DeleteWidget,{id:id})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"note_title\",ref:titleRef,onChange:handleNoteTitleChange,value:title||\"\",placeholder:\"Note Title\"}),/*#__PURE__*/_jsx(\"textarea\",{spellCheck:false,className:\"note_content\",ref:contentRef,value:content,onChange:handleNoteContentChange,placeholder:\"I bought 1 BTC when it was $1\"})]})]});});export default NoteWidget;","map":{"version":3,"names":["memo","useEffect","useRef","useState","DeleteWidget","jsxs","_jsxs","jsx","_jsx","NoteWidget","_ref","id","titleRef","contentRef","title","setTitle","content","setContent","widgets","JSON","parse","localStorage","getItem","map","w","i","saveNote","type","newContent","widgetsEdited","setItem","stringify","handleNoteTitleChange","e","target","value","handleNoteContentChange","className","children","ref","onChange","placeholder","spellCheck"],"sources":["/Users/isaacson/Projects/invester/src/components/Board/Widgets/Note/NoteWidget.tsx"],"sourcesContent":["import { memo, useEffect, useRef, useState } from \"react\";\nimport DeleteWidget from \"../DeleteWidget\";\nimport { Widget } from \"../../Board\";\n\nconst NoteWidget = memo(function ({ id }: { id: string }) {\n    const titleRef = useRef(null);\n    const contentRef = useRef(null);\n    const [title, setTitle] = useState<string>(\"\");\n    const [content, setContent] = useState<string>(\"\");\n\n    useEffect(() => {\n        const widgets = JSON.parse(localStorage.getItem(\"widgets\") as string);\n        widgets.map((w: Widget) => {\n            if (w.i === id) {\n                setTitle(w?.title as string);\n                setContent(w.content as string);\n            }\n            return w;\n        });\n        // eslint-disable-next-line\n    }, []);\n\n    function saveNote(type: \"title\" | \"content\", newContent: string) {\n        const widgets = JSON.parse(localStorage.getItem(\"widgets\") as string);\n        const widgetsEdited = widgets.map((w: Widget) => {\n            if (w.i === id) {\n                w[type] = newContent;\n            }\n            return w;\n        });\n        localStorage.setItem(\"widgets\", JSON.stringify(widgetsEdited));\n    }\n\n    function handleNoteTitleChange(e: any) {\n        setTitle(e.target.value);\n        saveNote(\"title\", e.target.value);\n    }\n\n    function handleNoteContentChange(e: any) {\n        setContent(e.target.value);\n        saveNote(\"content\", e.target.value);\n    }\n\n    return (\n        <div className=\"widget NoteWidget\">\n            <div className=\"header\">\n                <div className=\"widgetTitle\">Note - {title || \"\"}</div>\n                <DeleteWidget id={id} />\n            </div>\n            <div className=\"content\">\n                <input\n                    className=\"note_title\"\n                    ref={titleRef}\n                    onChange={handleNoteTitleChange}\n                    value={title || \"\"}\n                    placeholder=\"Note Title\"\n                />\n                <textarea\n                    spellCheck={false}\n                    className=\"note_content\"\n                    ref={contentRef}\n                    value={content}\n                    onChange={handleNoteContentChange}\n                    placeholder=\"I bought 1 BTC when it was $1\"\n                />\n            </div>\n        </div>\n    );\n});\n\nexport default NoteWidget;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}