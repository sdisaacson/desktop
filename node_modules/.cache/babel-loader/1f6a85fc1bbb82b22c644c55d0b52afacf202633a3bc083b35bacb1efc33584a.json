{"ast":null,"code":"import{useEffect}from\"react\";import GridLayout from\"react-grid-layout\";import\"../../styling/Widgets.css\";import\"react-grid-layout/css/styles.css\";import\"react-resizable/css/styles.css\";import DynamicWidget from\"./components/DynamicWidget\";import{useSelector}from\"react-redux\";import{useBoard}from\"../../hooks/useBoard\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function Board(){const{save,getBoard}=useBoard();const global=useSelector(state=>state);useEffect(()=>{getBoard();// eslint-disable-next-line\n},[]);if(!global.board)return null;return/*#__PURE__*/_jsx(\"div\",{id:\"Board\",\"data-testid\":\"Board\",children:global.board.length>0&&/*#__PURE__*/_jsx(GridLayout,{resizeHandles:[\"s\",\"se\",\"e\"],autoSize:true,draggableHandle:\".header\",isBounded:false,useCSSTransforms:true,preventCollision:false,verticalCompact:true,className:\"layout\",containerPadding:[10,10],layout:global.board,cols:24,rowHeight:35,width:window.innerWidth-40,onDragStop:async layout=>{if(global.activeDashboard===\"home\"){save({layout,widgets:global.widgets});}else{const thisDashboard=global.dashboards.find(dashB=>dashB.id===global.activeDashboard);save({layout,widgets:thisDashboard.widgets});}},onResizeStop:async layout=>{if(global.activeDashboard===\"home\"){save({layout,widgets:global.widgets});}else{const thisDashboard=global.dashboards.find(dashB=>dashB.id===global.activeDashboard);save({layout,widgets:thisDashboard.widgets});}},children:global.board.map(widget=>{return/*#__PURE__*/_jsx(\"div\",{\"data-testid\":\"Widget\",children:/*#__PURE__*/_jsx(DynamicWidget,{widget:widget})},widget.i);})})});}","map":{"version":3,"names":["useEffect","GridLayout","DynamicWidget","useSelector","useBoard","jsx","_jsx","Board","save","getBoard","global","state","board","id","children","length","resizeHandles","autoSize","draggableHandle","isBounded","useCSSTransforms","preventCollision","verticalCompact","className","containerPadding","layout","cols","rowHeight","width","window","innerWidth","onDragStop","activeDashboard","widgets","thisDashboard","dashboards","find","dashB","onResizeStop","map","widget","i"],"sources":["/Users/isaacson/Projects/invester/src/components/Board/Board.tsx"],"sourcesContent":["import { useEffect } from \"react\";\nimport GridLayout, { Layout } from \"react-grid-layout\";\nimport \"../../styling/Widgets.css\";\nimport \"react-grid-layout/css/styles.css\";\nimport \"react-resizable/css/styles.css\";\nimport DynamicWidget from \"./components/DynamicWidget\";\nimport { useSelector } from \"react-redux\";\nimport { useBoard } from \"../../hooks/useBoard\";\nimport { GlobalData } from \"../../store/global\";\n\nexport type Widget = {\n    i: string;\n    type: string;\n    symbol?: string;\n    title?: string;\n    content?: string;\n    bookmarks?: Bookmark[];\n};\nexport type WidgetInfo = Widget & Layout;\n\nexport default function Board() {\n    const { save, getBoard } = useBoard();\n    const global = useSelector((state: GlobalData) => state);\n\n    useEffect(() => {\n        getBoard();\n        // eslint-disable-next-line\n    }, []);\n\n    if (!global.board) return null;\n\n    return (\n        <div id=\"Board\" data-testid=\"Board\">\n            {global.board.length > 0 && (\n                <GridLayout\n                    resizeHandles={[\"s\", \"se\", \"e\"]}\n                    autoSize={true}\n                    draggableHandle={\".header\"}\n                    isBounded={false}\n                    useCSSTransforms={true}\n                    preventCollision={false}\n                    verticalCompact={true}\n                    className=\"layout\"\n                    containerPadding={[10, 10]}\n                    layout={global.board}\n                    cols={24}\n                    rowHeight={35}\n                    width={window.innerWidth - 40}\n                    onDragStop={async (layout) => {\n                        if (global.activeDashboard === \"home\") {\n                            save({ layout, widgets: global.widgets });\n                        } else {\n                            const thisDashboard: Dashboard =\n                                global.dashboards.find(\n                                    (dashB) =>\n                                        dashB.id === global.activeDashboard\n                                ) as Dashboard;\n                            save({ layout, widgets: thisDashboard.widgets });\n                        }\n                    }}\n                    onResizeStop={async (layout) => {\n                        if (global.activeDashboard === \"home\") {\n                            save({ layout, widgets: global.widgets });\n                        } else {\n                            const thisDashboard: Dashboard =\n                                global.dashboards.find(\n                                    (dashB) =>\n                                        dashB.id === global.activeDashboard\n                                ) as Dashboard;\n                            save({ layout, widgets: thisDashboard.widgets });\n                        }\n                    }}\n                >\n                    {global.board.map((widget: WidgetInfo) => {\n                        return (\n                            <div key={widget.i} data-testid=\"Widget\">\n                                <DynamicWidget widget={widget} />\n                            </div>\n                        );\n                    })}\n                </GridLayout>\n            )}\n        </div>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}