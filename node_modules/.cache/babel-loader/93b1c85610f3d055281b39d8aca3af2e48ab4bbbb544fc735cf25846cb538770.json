{"ast":null,"code":"import{Home,Plus,Box,Trash2}from\"react-feather\";import{useDispatch,useSelector}from\"react-redux\";import{setActiveDashboard,setDashboards}from\"../../store/global\";import{useEffect,useState}from\"react\";import{useDashboard}from\"../../hooks/useDashboard\";import{useBoard}from\"../../hooks/useBoard\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Sidebar(){const dispatch=useDispatch();const[activeOne,setActiveOne]=useState(\"home\");const{activeDashboard,dashboards}=useSelector(state=>state);const{createNewDashboard,getLocalDashboards,getLocalActiveDashboard,saveDashboards}=useDashboard();const{createLayout}=useBoard();useEffect(()=>{(async()=>{const localDashboards=await getLocalDashboards();dispatch(setDashboards(localDashboards));const activeDashboard=await getLocalActiveDashboard();dispatch(setActiveDashboard(activeDashboard));})();},[]);useEffect(()=>{setActiveOne(activeDashboard);dispatch(setActiveDashboard(activeDashboard));createLayout();},[activeDashboard]);function handleDeleteDashboard(dashboardId){if(window.confirm(\"Are you certain that you wish to delete this dashboard? Please be aware that all of the data associated with it will be permanently lost. Would you like to proceed with this action?\")){const filteredDashboards=dashboards.filter(dashB=>dashB.id!=dashboardId);const save=saveDashboards(filteredDashboards);if(save){dispatch(setDashboards(filteredDashboards));dispatch(setActiveDashboard(\"home\"));}}}return/*#__PURE__*/_jsxs(\"div\",{id:\"Sidebar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-btn \".concat(activeOne===\"home\"&&\"active\"),onClick:()=>{dispatch(setActiveDashboard(\"home\"));},children:/*#__PURE__*/_jsx(Home,{size:12})}),dashboards.map((dashB,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-btn \".concat(activeOne===dashB.id&&\"active\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-btn-tooltip\",onClick:()=>{handleDeleteDashboard(dashB.id);},children:/*#__PURE__*/_jsx(Trash2,{size:12})}),/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-btn-button\",onClick:e=>{dispatch(setActiveDashboard(dashB.id));},children:/*#__PURE__*/_jsx(Box,{size:12})})]},index)),/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-btn add-button\",onClick:createNewDashboard,children:/*#__PURE__*/_jsx(Plus,{size:16})})]});}","map":{"version":3,"names":["Home","Plus","Box","Trash2","useDispatch","useSelector","setActiveDashboard","setDashboards","useEffect","useState","useDashboard","useBoard","jsx","_jsx","jsxs","_jsxs","Sidebar","dispatch","activeOne","setActiveOne","activeDashboard","dashboards","state","createNewDashboard","getLocalDashboards","getLocalActiveDashboard","saveDashboards","createLayout","localDashboards","handleDeleteDashboard","dashboardId","window","confirm","filteredDashboards","filter","dashB","id","save","children","className","concat","onClick","size","map","index","e"],"sources":["/Users/isaacson/Projects/invester/src/components/Layout/Sidebar.tsx"],"sourcesContent":["import { Home, Plus, Box, Trash2 } from \"react-feather\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n    GlobalData,\n    setActiveDashboard,\n    setDashboards,\n} from \"../../store/global\";\nimport { useEffect, useState } from \"react\";\nimport { useDashboard } from \"../../hooks/useDashboard\";\nimport { useBoard } from \"../../hooks/useBoard\";\n\nexport default function Sidebar() {\n    const dispatch = useDispatch();\n    const [activeOne, setActiveOne] = useState<string>(\"home\");\n    const { activeDashboard, dashboards } = useSelector(\n        (state: GlobalData) => state\n    );\n    const {\n        createNewDashboard,\n        getLocalDashboards,\n        getLocalActiveDashboard,\n        saveDashboards,\n    } = useDashboard();\n    const { createLayout } = useBoard();\n\n    useEffect(() => {\n        (async () => {\n            const localDashboards = await getLocalDashboards();\n            dispatch(setDashboards(localDashboards));\n            const activeDashboard = await getLocalActiveDashboard();\n            dispatch(setActiveDashboard(activeDashboard));\n        })();\n    }, []);\n\n    useEffect(() => {\n        setActiveOne(activeDashboard);\n        dispatch(setActiveDashboard(activeDashboard));\n        createLayout();\n    }, [activeDashboard]);\n\n    function handleDeleteDashboard(dashboardId: string) {\n        if (\n            window.confirm(\n                \"Are you certain that you wish to delete this dashboard? Please be aware that all of the data associated with it will be permanently lost. Would you like to proceed with this action?\"\n            )\n        ) {\n            const filteredDashboards = dashboards.filter(\n                (dashB) => dashB.id != dashboardId\n            );\n\n            const save = saveDashboards(filteredDashboards);\n\n            if (save) {\n                dispatch(setDashboards(filteredDashboards));\n                dispatch(setActiveDashboard(\"home\"));\n            }\n        }\n    }\n\n    return (\n        <div id=\"Sidebar\">\n            <div\n                className={`dashboard-btn ${activeOne === \"home\" && \"active\"}`}\n                onClick={() => {\n                    dispatch(setActiveDashboard(\"home\"));\n                }}\n            >\n                <Home size={12} />\n            </div>\n            {dashboards.map((dashB, index) => (\n                <div\n                    key={index}\n                    className={`dashboard-btn ${\n                        activeOne === dashB.id && \"active\"\n                    }`}\n                >\n                    <div\n                        className=\"dashboard-btn-tooltip\"\n                        onClick={() => {\n                            handleDeleteDashboard(dashB.id);\n                        }}\n                    >\n                        <Trash2 size={12} />\n                    </div>\n                    <div\n                        className=\"dashboard-btn-button\"\n                        onClick={(e) => {\n                            dispatch(setActiveDashboard(dashB.id));\n                        }}\n                    >\n                        <Box size={12} />\n                    </div>\n                </div>\n            ))}\n            <div\n                className=\"dashboard-btn add-button\"\n                onClick={createNewDashboard}\n            >\n                <Plus size={16} />\n            </div>\n        </div>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}